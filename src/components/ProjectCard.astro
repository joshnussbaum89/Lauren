---
import { Icon } from 'astro-icon/components'

export interface Props {
  project: {
    id: string
    title: string
    description: string
    type: string
    link?: string
  }
}

const { project } = Astro.props
---

<div class="project active" data-type={project.type}>
  <Icon name={project.id} />
  <h4>
    {
      project.link ? (
        <a href={project.link} target="_blank" rel="noopener noreferrer">
          {project.title}
        </a>
      ) : (
        project.title
      )
    }
  </h4>
  <div class="project-info">
    <p>{project.description}</p>
    <button data-id={project.id}>
      <Icon name="arrow-right" />
    </button>
  </div>
</div>

<style>
  .project {
    display: none;
    padding: 2rem;
    border: 1px solid var(--color-black);
    border-radius: 1.25rem;
    background-color: var(--color-white);
    transition: all var(--transition-normal);
    box-shadow: var(--box-shadow-normal);
  }

  .project:hover {
    background-color: var(--color-black);
    border: 1px solid var(--color-black);
  }

  .project.active {
    display: block;
  }

  .project > [data-icon] {
    width: 5rem;
    height: 5rem;
    margin-bottom: 1rem;
    color: var(--color-black);
    transition: all var(--transition-normal);
  }

  .project:hover > [data-icon] {
    color: var(--color-white);
  }

  .project h4 {
    margin-bottom: 1rem;
    font-size: var(--size-lg);
    transition: all var(--transition-normal);
  }

  .project:hover h4,
  .project:hover p {
    color: var(--color-white);
  }

  .project:hover a:hover,
  .project:hover h4 a:hover {
    color: var(--color-pink);
  }

  .project:hover button {
    background-color: var(--color-black);
    border-color: var(--color-white);
  }

  .project:hover button [data-icon='arrow-right'] {
    stroke: var(--color-white);
    user-select: none;
  }

  .project button {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: transparent;
    border: 1px solid var(--color-black);
    border-radius: 50%;
    padding: 0.5rem;
    transition: all var(--transition-normal);
  }

  .project button:hover {
    background-color: var(--color-white);
  }

  .project button:hover [data-icon='arrow-right'] {
    stroke: var(--color-black);
  }

  .project button > * {
    pointer-events: none;
  }

  .project-info {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: 1rem;
  }

  .project-info p {
    font-size: var(--size-md);
    transition: all var(--transition-normal);
  }

  .project-info [data-icon='arrow-right'],
  .project-info path {
    transition: all var(--transition-normal);
    stroke: var(--color-black);
  }

  .project-info [data-icon='arrow-right'] {
    width: 2rem;
    height: 2rem;
  }
</style>
